image: Visual Studio 2017

install:
  - cmmd: echo "Downloading conan..."
  - cmmd: set PATH=%PATH%;%PYTHON%/Scripts/
  - cmmd: pip.exe install conan
  - cmmd: conan user # Create the conan data directory
  - cmmd: conan --version

environment:
  matrix:
    - GENERATOR: "Visual Studio 15 2017"
      CONFIG: Debug

    - GENERATOR: "Visual Studio 15 2017"
      CONFIG: Release

    - GENERATOR: "Visual Studio 15 2017 Win64"
      CONFIG: Debug

    - GENERATOR: "Visual Studio 15 2017 Win64"
      CONFIG: Release

before_script:
  - cmmd: mkdir build_cmake
  - cmmd: cd build_cmake
  - cmmd: cmake ../ "-G%GENERATOR%" .
  - cmmd: cmake --build . --config "%CONFIG%"
